{"version":3,"file":"stripe-bf288d68.js","sources":["../../node_modules/@stripe/stripe-js/dist/stripe.esm.js"],"sourcesContent":["var V3_URL = 'https://js.stripe.com/v3';\r\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\r\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\r\nvar findScript = function findScript() {\r\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\r\n\r\n  for (var i = 0; i < scripts.length; i++) {\r\n    var script = scripts[i];\r\n\r\n    if (!V3_URL_REGEX.test(script.src)) {\r\n      continue;\r\n    }\r\n\r\n    return script;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nvar injectScript = function injectScript(params) {\r\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\r\n  var script = document.createElement('script');\r\n  script.src = \"\".concat(V3_URL).concat(queryString);\r\n  var headOrBody = document.head || document.body;\r\n\r\n  if (!headOrBody) {\r\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\r\n  }\r\n\r\n  headOrBody.appendChild(script);\r\n  return script;\r\n};\r\n\r\nvar registerWrapper = function registerWrapper(stripe, startTime) {\r\n  if (!stripe || !stripe._registerWrapper) {\r\n    return;\r\n  }\r\n\r\n  stripe._registerWrapper({\r\n    name: 'stripe-js',\r\n    version: \"2.4.0\",\r\n    startTime: startTime\r\n  });\r\n};\r\n\r\nvar stripePromise = null;\r\nvar onErrorListener = null;\r\nvar onLoadListener = null;\r\n\r\nvar onError = function onError(reject) {\r\n  return function () {\r\n    reject(new Error('Failed to load Stripe.js'));\r\n  };\r\n};\r\n\r\nvar onLoad = function onLoad(resolve, reject) {\r\n  return function () {\r\n    if (window.Stripe) {\r\n      resolve(window.Stripe);\r\n    } else {\r\n      reject(new Error('Stripe.js not available'));\r\n    }\r\n  };\r\n};\r\n\r\nvar loadScript = function loadScript(params) {\r\n  // Ensure that we only attempt to load Stripe.js at most once\r\n  if (stripePromise !== null) {\r\n    return stripePromise;\r\n  }\r\n\r\n  stripePromise = new Promise(function (resolve, reject) {\r\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\r\n      // Resolve to null when imported server side. This makes the module\r\n      // safe to import in an isomorphic code base.\r\n      resolve(null);\r\n      return;\r\n    }\r\n\r\n    if (window.Stripe && params) {\r\n      console.warn(EXISTING_SCRIPT_MESSAGE);\r\n    }\r\n\r\n    if (window.Stripe) {\r\n      resolve(window.Stripe);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      var script = findScript();\r\n\r\n      if (script && params) {\r\n        console.warn(EXISTING_SCRIPT_MESSAGE);\r\n      } else if (!script) {\r\n        script = injectScript(params);\r\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\r\n        var _script$parentNode;\r\n\r\n        // remove event listeners\r\n        script.removeEventListener('load', onLoadListener);\r\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\r\n        // reload script to trigger 'load' event\r\n\r\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\r\n        script = injectScript(params);\r\n      }\r\n\r\n      onLoadListener = onLoad(resolve, reject);\r\n      onErrorListener = onError(reject);\r\n      script.addEventListener('load', onLoadListener);\r\n      script.addEventListener('error', onErrorListener);\r\n    } catch (error) {\r\n      reject(error);\r\n      return;\r\n    }\r\n  }); // Resets stripePromise on error\r\n\r\n  return stripePromise[\"catch\"](function (error) {\r\n    stripePromise = null;\r\n    return Promise.reject(error);\r\n  });\r\n};\r\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\r\n  if (maybeStripe === null) {\r\n    return null;\r\n  }\r\n\r\n  var stripe = maybeStripe.apply(undefined, args);\r\n  registerWrapper(stripe, startTime);\r\n  return stripe;\r\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n\r\nvar stripePromise$1;\r\nvar loadCalled = false;\r\n\r\nvar getStripePromise = function getStripePromise() {\r\n  if (stripePromise$1) {\r\n    return stripePromise$1;\r\n  }\r\n\r\n  stripePromise$1 = loadScript(null)[\"catch\"](function (error) {\r\n    // clear cache on error\r\n    stripePromise$1 = null;\r\n    return Promise.reject(error);\r\n  });\r\n  return stripePromise$1;\r\n}; // Execute our own script injection after a tick to give users time to do their\r\n// own script injection.\r\n\r\n\r\nPromise.resolve().then(function () {\r\n  return getStripePromise();\r\n})[\"catch\"](function (error) {\r\n  if (!loadCalled) {\r\n    console.warn(error);\r\n  }\r\n});\r\nvar loadStripe = function loadStripe() {\r\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n\r\n  loadCalled = true;\r\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\r\n\r\n  return getStripePromise().then(function (maybeStripe) {\r\n    return initStripe(maybeStripe, args, startTime);\r\n  });\r\n};\r\n\r\nexport { loadStripe };\r\n"],"names":["V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","findScript","scripts","i","script","injectScript","params","queryString","headOrBody","registerWrapper","stripe","startTime","stripePromise","onErrorListener","onLoadListener","onError","reject","onLoad","resolve","loadScript","_script$parentNode","error","initStripe","maybeStripe","args","stripePromise$1","loadCalled","getStripePromise","loadStripe","_len","_key"],"mappings":"AAAA,IAAIA,EAAS,2BACTC,EAAe,4CACfC,EAA0B,mJAC1BC,EAAa,UAAsB,CAGrC,QAFIC,EAAU,SAAS,iBAAiB,gBAAiB,OAAOJ,EAAQ,IAAK,CAAC,EAErEK,EAAI,EAAGA,EAAID,EAAQ,OAAQC,IAAK,CACvC,IAAIC,EAASF,EAAQC,CAAC,EAEtB,GAAKJ,EAAa,KAAKK,EAAO,GAAG,EAIjC,OAAOA,CACR,CAED,OAAO,IACT,EAEIC,EAAe,SAAsBC,EAAQ,CAC/C,IAAIC,EAAcD,GAAU,CAACA,EAAO,qBAAuB,8BAAgC,GACvFF,EAAS,SAAS,cAAc,QAAQ,EAC5CA,EAAO,IAAM,GAAG,OAAON,CAAM,EAAE,OAAOS,CAAW,EACjD,IAAIC,EAAa,SAAS,MAAQ,SAAS,KAE3C,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,6EAA6E,EAG/F,OAAAA,EAAW,YAAYJ,CAAM,EACtBA,CACT,EAEIK,EAAkB,SAAyBC,EAAQC,EAAW,CAC5D,CAACD,GAAU,CAACA,EAAO,kBAIvBA,EAAO,iBAAiB,CACtB,KAAM,YACN,QAAS,QACT,UAAWC,CACf,CAAG,CACH,EAEIC,EAAgB,KAChBC,EAAkB,KAClBC,EAAiB,KAEjBC,EAAU,SAAiBC,EAAQ,CACrC,OAAO,UAAY,CACjBA,EAAO,IAAI,MAAM,0BAA0B,CAAC,CAChD,CACA,EAEIC,EAAS,SAAgBC,EAASF,EAAQ,CAC5C,OAAO,UAAY,CACb,OAAO,OACTE,EAAQ,OAAO,MAAM,EAErBF,EAAO,IAAI,MAAM,yBAAyB,CAAC,CAEjD,CACA,EAEIG,EAAa,SAAoBb,EAAQ,CAE3C,OAAIM,IAAkB,KACbA,GAGTA,EAAgB,IAAI,QAAQ,SAAUM,EAASF,EAAQ,CACrD,GAAI,OAAO,OAAW,KAAe,OAAO,SAAa,IAAa,CAGpEE,EAAQ,IAAI,EACZ,MACD,CAMD,GAJI,OAAO,QAAUZ,GACnB,QAAQ,KAAKN,CAAuB,EAGlC,OAAO,OAAQ,CACjBkB,EAAQ,OAAO,MAAM,EACrB,MACD,CAED,GAAI,CACF,IAAId,EAASH,IAEb,GAAIG,GAAUE,EACZ,QAAQ,KAAKN,CAAuB,UAC3B,CAACI,EACVA,EAASC,EAAaC,CAAM,UACnBF,GAAUU,IAAmB,MAAQD,IAAoB,KAAM,CACxE,IAAIO,EAGJhB,EAAO,oBAAoB,OAAQU,CAAc,EACjDV,EAAO,oBAAoB,QAASS,CAAe,GAGlDO,EAAqBhB,EAAO,cAAgB,MAAQgB,IAAuB,QAAkBA,EAAmB,YAAYhB,CAAM,EACnIA,EAASC,EAAaC,CAAM,CAC7B,CAEDQ,EAAiBG,EAAOC,EAASF,CAAM,EACvCH,EAAkBE,EAAQC,CAAM,EAChCZ,EAAO,iBAAiB,OAAQU,CAAc,EAC9CV,EAAO,iBAAiB,QAASS,CAAe,CACjD,OAAQQ,EAAO,CACdL,EAAOK,CAAK,EACZ,MACD,CACL,CAAG,EAEMT,EAAc,MAAS,SAAUS,EAAO,CAC7C,OAAAT,EAAgB,KACT,QAAQ,OAAOS,CAAK,CAC/B,CAAG,EACH,EACIC,EAAa,SAAoBC,EAAaC,EAAMb,EAAW,CACjE,GAAIY,IAAgB,KAClB,OAAO,KAGT,IAAIb,EAASa,EAAY,MAAM,OAAWC,CAAI,EAC9C,OAAAf,EAAgBC,EAAQC,CAAS,EAC1BD,CACT,EAEIe,EACAC,EAAa,GAEbC,EAAmB,UAA4B,CACjD,OAAIF,IAIJA,EAAkBN,EAAW,IAAI,EAAE,MAAS,SAAUE,EAAO,CAE3D,OAAAI,EAAkB,KACX,QAAQ,OAAOJ,CAAK,CAC/B,CAAG,EACMI,EACT,EAIA,QAAQ,QAAO,EAAG,KAAK,UAAY,CACjC,OAAOE,EAAgB,CACzB,CAAC,EAAE,MAAS,SAAUN,EAAO,CACtBK,GACH,QAAQ,KAAKL,CAAK,CAEtB,CAAC,EACE,IAACO,EAAa,UAAsB,CACrC,QAASC,EAAO,UAAU,OAAQL,EAAO,IAAI,MAAMK,CAAI,EAAGC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EN,EAAKM,CAAI,EAAI,UAAUA,CAAI,EAG7BJ,EAAa,GACb,IAAIf,EAAY,KAAK,MAErB,OAAOgB,EAAkB,EAAC,KAAK,SAAUJ,EAAa,CACpD,OAAOD,EAAWC,EAAaC,EAAMb,CAAS,CAClD,CAAG,CACH","x_google_ignoreList":[0]}